<%- include('../partials/head') %>
</head>
<body class="bg-gradient-to-br from-pink-200 via-yellow-100 to-blue-200 min-h-screen font-sans">
  <%- include('../partials/nav') %>
  <%- include('../partials/toast') %>
  <main class="flex flex-col items-center justify-center min-h-[80vh]">
    <div class="bg-pink-100 w-full max-w-4xl rounded-3xl shadow-2xl p-10 mt-12 border-4 border-black backdrop-blur-md z-2xl">
      <h1 class="text-5xl font-black text-center text-purple-700 mb-10 tracking-tight drop-shadow-lg">
        <%= editing ? "Edit" : "Add"%> Project
      </h1>
      <form action="/<%= editing ? 'edit-project' : 'add-project' %>" method="POST" enctype="multipart/form-data" class="space-y-7">
        <input type="hidden" name="projectId" value="<%= editing ? project._id : '' %>" />

        <div>
            <label class="block text-lg text-purple-700 font-semibold mb-2">Title<span class="text-red-500">*</span></label>
          <input
            type="text"
            name="title"
            value="<%= editing ? project.title : '' %>"
            placeholder="Project Title"
            required
            class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition shadow-sm bg-blue-50"/>
        </div>

        <div>
          <label class="block text-lg text-purple-700 font-semibold mb-2">Description<span class="text-red-500">*</span></label>
          <textarea
            name="description"
            required
            placeholder="Project Description"
            class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition resize-none h-28 shadow-sm bg-blue-50"><%= editing ? project.description : '' %></textarea>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-lg text-purple-700 font-semibold mb-2">GitHub Link<span class="text-red-500">*</span></label>
            <input
              type="url"
              name="githubLink"
              value="<%= editing ? project.githubLink : '' %>"
              placeholder="https://github.com/your-repo"
              class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition shadow-sm bg-blue-50"/>
          </div>

          <div>
            <label class="block text-lg text-purple-700 font-semibold mb-2">Deployed Link<span class="text-red-500">*</span></label>
            <input
              type="url"
              name="deployedLink"
              value="<%= editing ? project.deployedLink : '' %>"
              placeholder="https://your-app.com"
              required
              class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition shadow-sm bg-blue-50"/>
          </div>
        </div>

        <div>
          <label class="block text-lg text-purple-700 font-semibold mb-2">Technologies Used<span class="text-red-500">*</span> <span class="text-gray-400 text-xs">(comma separated)</span></label>
          <input
            type="text"
            name="technologiesUsed"
            value="<%= editing ? project.technologiesUsed?.join(', ') : '' %>"
            placeholder="e.g. React, Node.js, MongoDB"
            class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition shadow-sm bg-blue-50"/>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-lg text-purple-700 font-semibold mb-2">Project Report (PDF)<span class="text-red-500">*</span></label>
            <input
              type="file"
              name="pdf"
              accept="application/pdf"
              class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition bg-white shadow-sm"/>
          </div>

        <div>
          <label class="block text-lg text-purple-700 font-semibold mb-2">Submission Date: <span class="text-red-500">*</span></label>
          <input
            type="date"
            name="startDate"
            value="<%= editing && project.createdAt ? (new Date(project.createdAt)).toISOString().slice(0,10) : '' %>"
            required
            class="w-full px-5 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 transition shadow-sm bg-blue-50"/>
      </div>
      </div>
      <input type="submit" value="<%= editing ? 'Update Project' : 'Add Project' %>" 
        class="w-full bg-gradient-to-r from-indigo-900 via-purple-700 to-pink-400 text-white py-4 rounded-xl font-extrabold text-lg hover:from-puple-200 hover:to-purple-500 transition duration-300 shadow-lg mt-4" />
    </form>
    </div>
  </main>

</body>
</html>
