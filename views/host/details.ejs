<%- include('../partials/head') %>
</head>
<body class="bg-gradient-to-br from-pink-200 via-yellow-100 to-blue-200 min-h-screen font-sans">
  <%- include('../partials/nav') %>
  <main class="bg-white rounded-2xl shadow-xl px-8 py-10 mt-12 mb-12 max-w-4xl mx-auto transition-shadow duration-200 hover:shadow-2xl">
    <h1 class="text-4xl font-extrabold text-center text-red-600 mb-10 tracking-tight"><%= editing ? "Edit" : "Create"%> Your Post on Blog Nest</h1>
    <form action="/host/<%= editing ? "edit-post" : "add-post"%>" method="POST" enctype="multipart/form-data" class="space-y-7">
      <input type="hidden" name="id" value="<%= editing ? home._id : ''%>">
      <!-- Title -->
      <div>
        <label class="block font-semibold mb-2 text-slate-700">Title</label>
        <input type="text" value="<%= editing ? home.title : ''%>" placeholder="Enter Title" name="title" required class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
      </div>

      <!-- Subtitle -->
      <div>
        <label class="block font-semibold mb-2 text-slate-700">Subtitle</label>
        <input type="text" value="<%= editing ? home.subtitle : ''%>" placeholder="Enter Subtitle" name="subtitle" class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
      </div>

      <!-- Author Name -->
      <div>
        <label class="block font-semibold mb-2 text-slate-700">Author Name</label>
        <input type="text" value="<%= editing ? home.authorName : ''%>"placeholder="Enter Author Name" name="authorName" required class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
      </div>

      <!-- Category -->
      <div>
        <label class="block font-semibold mb-2 text-slate-700">Category</label>
        <select name="category" required class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
          <option value="" disabled <%= !editing || !home.category ? "selected" : "" %>>Select Category</option>
          <option value="Technology" <%= editing && home.category === "Technology" ? "selected" : "" %>>Technology</option>
          <option value="Education" <%= editing && home.category === "Education" ? "selected" : "" %>>Education</option>
          <option value="Health" <%= editing && home.category === "Health" ? "selected" : "" %>>Health</option>
          <option value="Lifestyle" <%= editing && home.category === "Lifestyle" ? "selected" : "" %>>Lifestyle</option>
          <option value="Others" <%= editing && home.category === "Others" ? "selected" : "" %>>Others</option>
        </select>
      </div>
      <!-- Image Upload -->
      <div>
          <label class="block text-gray-700 font-semibold mb-1">Photo</label>
          <input
            type="file"
            name="photo"
            accept="image/*"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-400 transition bg-white"/>
        </div>

      <!-- Description -->
      <div>
        <label class="block font-semibold mb-2 text-slate-700">Description</label>
        <textarea name="description" placeholder="Enter detailed description" required rows="5" class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:border-blue-600 focus:ring-2 focus:ring-blue-200"><%= editing ? home.description : '' %></textarea>
      </div>

      <!-- Created At (date picker) -->
      <div>
        <label class="block font-semibold mb-2 text-slate-700">Created At</label>
        <input 
          type="date" 
          value="<%= editing && home.createdAt ? home.createdAt.toISOString().slice(0,10) : '' %>" 
          placeholder="Enter Date of creation" 
          name="createdAt" 
          required 
          class="w-full p-3 border border-gray-300 rounded-lg bg-gray-50 focus:border-blue-600 focus:ring-2 focus:ring-blue-200">
      </div>

      <!-- Submit -->
      <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-cyan-400 text-white font-semibold py-3 rounded-lg shadow-md hover:from-blue-700 hover:to-cyan-500 transition-all duration-200">
        <%= editing ? "Update Post" : "Add Post"%> 
      </button>
    </form>
  </main>
</body>
</html>
